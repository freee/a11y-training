import {
  ButtonElement,
  BadElement,
  BadElementWithGoodRole,
  GoodIconButtons,
  BadIconButtons,
  Koku,
  GoodPressed,
  BadPressed,
  IconAndLabel,
  BadIconAndLabel,
} from '/src/components/examples/button';
import { ExampleContainer } from '/src/components/examples';

import { Title } from '/src/components/Title';

<Title>ボタン</Title>

## ボタン

Web アプリケーションにはボタンが必要不可欠です。静的な Web サイトでも、しばしばメニューボタンやアコーディオン、動画や画像をモーダルダイアログとして表示するボタンが配置されます。
こういったボタンも、アクセシビリティー上の問題のある実装になっている場合がしばしばあります。

正しく実装されたボタンは、以下のような条件を満たしています。

- マウスポインターによる操作ができる
- キーボードによる操作ができる
- スクリーンリーダーで「ボタンであること」を知覚できる
- スクリーンリーダーで「何のボタンであるか」を知覚できる
- スクリーンリーダーによる操作ができる

以下の例も、マウスポインターだけでなく、キーボードやスクリーンリーダーによる操作を試してみてください。

### `<button>` 要素で実装する

大事な原則として、クリックに反応するもの = ボタンを作る場合は、可能な限り `<button>` 要素を使用するようにしましょう。

#### 良い例: `<button>` 要素を使用している

<ButtonElement />

#### 悪い例: `<span>` 要素を使用して、ボタン風の見た目にしている

`<span>` や `<div>` をボタンのように使うべきではありません。キーボードやスクリーンリーダーでの操作が不可能であり、スクリーンリーダーにはボタンであることも伝わりません。

<BadElement />

#### 良い例: `<span>` 要素を使用して、ボタン風の見た目にし、ボタンの挙動をなるべく再現している

これはあまり良くない例です。 ** `<button>` 要素の使用を検討してください** 。

既存の実装で `<button>` を使用しておらず、やむを得ない場合には、`role` `tabIndex` `onKeyDown` などを使い、誰もがボタンとして知覚し操作できる状態にしてください。

<BadElementWithGoodRole />

### 画像やアイコンのボタンには代替テキストをつける

Web アプリケーションではボタンに文字を表示せず、アイコンや画像を配置するのみとする場合が多くありますが、必ず代替テキストをつけてください。

特に「`<button>` 要素ではなく `button` ロールも持たず、代替テキストも持たないボタン」を freee 社内では **「虚空」** と呼んでいます。
虚空だらけの Web アプリケーションは、スクリーンリーダーでの操作が困難になります。

#### 良い例: アイコンのボタンに `aria-label` による代替テキストがついている

<GoodIconButtons />

#### 悪い例: アイコンのボタンに代替テキストがない

`<button>` 要素による実装であるため、スクリーンリーダーではボタンであることを知覚できますが、何のボタンかを知覚できません。

<BadIconButtons />

#### 悪い例: アイコンのボタンが `<span>` で実装されていて、代替テキストがない（虚空）

スクリーンリーダーでは、そこにボタン状のものが存在することすら認識することができません。

<Koku />

### アイコンの説明が重複しない

同じ意味のアイコンとテキストを並べて使用するときは、アイコンには代替テキストを設定しないようにします。代替テキストを設定していると、スクリーンリーダーには「編集 編集」「コピー コピー」「削除 削除」のように重複して読み上げられてしまいます。

#### 良い例: 説明が重複しない

<IconAndLabel />

#### 悪い例: 説明が重複する

<BadIconAndLabel />

### ボタンの状態がわかるようにする

「押されていない」状態と「押されている」状態のあるボタン（トグルボタン）は、視覚的な変化をつけるだけでなく、 `aria-pressed` を使用して、スクリーンリーダーなどの支援技術でも状態を読み取れるようにする必要があります。

#### 良い例: `aria-pressed` を使って、トグルボタンの状態が表現されている

スクリーンリーダーで、 トグルボタンの「押されていません」「押されています」の状態を知覚できます。

<GoodPressed />

#### 悪い例: トグルボタンの状態は視覚的にしか表現されていない

スクリーンリーダーでは、ボタンがどういう状態かを知覚できません。

<BadPressed />
